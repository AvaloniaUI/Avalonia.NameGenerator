<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <AvaloniaNameGenerator Condition="'$(AvaloniaNameGenerator)' == ''">true</AvaloniaNameGenerator>
  </PropertyGroup>

  <ItemGroup>
    <CompilerVisibleProperty Include="AvaloniaNameGenerator" />
    <CompilerVisibleItemMetadata Include="AdditionalFiles" MetadataName="SourceItemGroup"/>
  </ItemGroup>

  <Target Name="_InjectAdditionalFiles" BeforeTargets="GenerateMSBuildEditorConfigFileShouldRun">
    <ItemGroup>
      <AdditionalFiles Include="@(AvaloniaXaml)" SourceItemGroup="AvaloniaXaml" />
    </ItemGroup>
 </Target>
</Project>